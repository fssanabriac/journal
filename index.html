<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal</title>
</head>
<body>
    
  <fieldset>
    <legend>New entry </legend>
    <form>
      <input name="entryTitle" type="text" placeholder="Enter new entry">
      <textarea name="entryBody" placeholder="Commentary"></textarea>
      <input type="submit" >
    </form>
  </fieldset>

  <!-- This will expose saved entries-->
  <ul id="items">
    <li>title <br> body</li>
  </ul>

  <script>
    // define variables. get dom elements
    const form = document.querySelector('form');
    const inputTitle = document.querySelector("[name='entryTitle']");
    const inputBody = document.querySelector("[name='entryBody']");
    const items = document.getElementById('items');
    
    //const itemArray = [];

    // define update array function
    addItem = (inputTitle, inputBody) =>{
          itemArray.push({title: inputTitle, body : inputBody});
          console.log(itemArray)

          const newItem = document.createElement('li');
          newItem.innerHTML = "<span>" + 
            `${inputTitle }` + "</span>" + "<br>" + 
            "<p>" + `${inputBody}` + "</p>"; 

          items.appendChild(newItem);

          //localStorage.setItem('items', JSON.stringify(itemArray);


        }
    

    // add event listener for submit
    form.onsubmit = (event) =>{

          event.preventDefault();
          //console.log(form, inputTitle, inputBody);
          addItem(inputTitle.value, inputBody.value)
        }

    // lifecycle
    const existingItems = [{title : "Title 1", body : "body1"}, {title : "title2", body : "body2"}];

    //const existintgItems = JSON.parse(localStorage.getItem('items'));

    const itemArray = existingItems  || [];

    itemArray.forEach(item  => {
        addItem(item.title, item.body);
        }
        );
  </script>
</body>
</html>
